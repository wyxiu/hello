<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin:0;
				padding: 0;
			}
			#box{
				width: 100px;
				height: 100px;
				background: gold;
				left: 100px;
				top:50px;
				position: absolute;
			}
			#box1{
				width: 100px;
				height: 100px;
				background: olive;
				left: 100px;
				top:210px;
				position: absolute;
			}
		</style>
	</head>
	<body>
	<!--	<button id="btn">宽度</button>-->
			<div id="box"></div>
		<!--<button id="btn1">高度</button>-->
			<div id="box1"></div>
		
		<script src="js/tools.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
//		on($("#btn"),"click",function(){
//			var start = parseInt(css($("#box"),"left"));
//			var end = 1000;
//			var speed = 5000;//设置运动时间;
//			var range = end -start;
//			var beginT = Date.now();//设置开始时间，把时间转为毫秒值;
//			var timer = setInterval(function(){
//			var currTime = Date.now();
//			var t = currTime - beginT;
//				t = t > speed ? speed : t;
//			var  startOver = t*range/speed + start;
//			console.log(startOver + "--------"+t);
//			    $("#box").style.left = startOver + "px";
//			if(t>=speed){
//				clearInterval(timer);
//			}
//			   
//				
//			},30);
//		});
		
		
		function sport(element,end,speed,attr){
			clearInterval(element.timer);//停掉已有的计时器
			var start = parseInt(css(element,attr));
			var range = end -start;
			var beginT = Date.now();
			var timer;
			element.timer = setInterval(function(){
			var currTime = Date.now();
			var t = currTime - beginT;
				t = t > speed ? speed : t;
			var  startOver = t*range/speed + start;
			console.log(startOver + "--------"+t);
			    element.style[attr] = startOver + "px";
			if(t===speed){
				clearInterval(element.timer);
			}			   				
			},1000/60);
		}
		
		
		on($("#box"),"mouseover",function(){
			sport($("#box"),1000,5000,"width");
		});
		on($("#box"),"mouseout",function(){
			sport($("#box"),100,5000,"width");
		});
		
		on($("#box1"),"mouseover",function(){
			sport($("#box1"),200,500,"height");
		});
		on($("#box1"),"mouseout",function(){
			sport($("#box1"),100,500,"height");
		});
		</script>
	</body>
</html>
